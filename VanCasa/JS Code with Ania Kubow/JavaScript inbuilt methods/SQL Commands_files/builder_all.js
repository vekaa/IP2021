window.apex||(window.apex={}),apex.builder||(apex.builder={gApplicationId:null,gPageId:null}),"article aside canvas details figcaption figure footer header hgroup nav section summary video".replace(/\w+/g,(function(e){document.createElement(e)})),apex.builder.searchBox=function(e,t,a){var i=apex.jQuery("#"+e);function r(e){""!==e&&e!=a&&("function"==typeof t?t(e):apex.navigation.redirect(t+encodeURIComponent(e)))}i.keypress((function(e){13==e.keyCode&&(r(i.val()),e.preventDefault())})).focus((function(){this.value==a&&(this.value="")})).blur((function(){""===this.value&&(this.value=a)})).next().click((function(e){r(i.val()),e.preventDefault()}))},apex.builder.anchor={},function(e){e.activate=function(){var e=apex.jQuery("#anchorList a:visible"),t=apex.jQuery(apex.jQuery.map(e.not("#ALL,#DEFAULTALL"),(function(e){return e.href.substr(e.href.indexOf("#"))})).join(",")),a=this.href.substr(this.href.indexOf("#"));return"#ALL"===a?t.show():(t.hide(),t.filter(a).show()),apex.jQuery("#BB,#ContentArea,#ContentBody").show(),apex.jQuery("#anchorList .apex-rds-selected").removeClass("apex-rds-selected"),apex.jQuery(this).parent().addClass("apex-rds-selected"),apex.storage.setCookie("ORA_WWV_ATTRIBUTE_PAGE",$v("pFlowStepId")+","+a),!1},e.show=function(e){apex.jQuery("#"+e+"_ANCHOR").show().parent().show()},e.hide=function(e){apex.jQuery("#"+e+"_ANCHOR").hide().parent().hide()},e.init=function(){var t,a=document.URL,i=a.lastIndexOf("#"),r=null;if(i>=0)r=a.substr(i);else{var n=apex.storage.getCookie("ORA_WWV_ATTRIBUTE_PAGE");n&&$v("pFlowStepId")==n.split(",")[0]&&(r=n.split(",")[1])}r=null===r?"#ALL":r,0===(t=apex.jQuery(r+"_ANCHOR:visible")).length&&(t=apex.jQuery("#ALL_ANCHOR")),e.activate.call(t[0]),apex.jQuery("#anchorList a").click(e.activate),uF=function(){apex.jQuery("#ALL_ANCHOR").click(),scroll(0,0)}}}(apex.builder.anchor),function(e,t){var a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)");e.changeUIMode=function(i){var r,n,s=t("body"),p=t("body iframe"),u=i;s.hasClass("apex-theme-standard")?n="standard":s.hasClass("apex-theme-standard-auto")?n="standard-auto":s.hasClass("apex-theme-dark")?n="dark":s.hasClass("apex-theme-dark-auto")&&(n="dark-auto"),e.setThemeCSSFile(t("html"),i),p.length>0&&e.setThemeCSSFile(p.contents(),i),"dark"===i?(r="apex-theme-dark",a.removeListener(e.autoDarkMode)):"standard"===i?(r="apex-theme-standard",a.removeListener(e.autoDarkMode)):"dark-auto"!==i&&"standard-auto"!==i||(e.isOSDarkMode()?(r="apex-theme-dark-auto",u="dark-auto"):(r="apex-theme-standard-auto",u="standard-auto"),a.addListener(e.autoDarkMode)),s.removeClass("apex-theme-standard apex-theme-dark apex-theme-standard-auto apex-theme-dark-auto").addClass(r),p.length>0&&p.contents().find("body").removeClass("apex-theme-standard apex-theme-dark apex-theme-standard-auto apex-theme-dark-auto").addClass(r),n!==u&&function(e){apex.server.process("ajax_set_ui_mode",{p_flow_id:4e3,p_flow_step_id:0,x01:e},{success:function(e){},error:function(e,t,a){}})}(u)},e.setThemeCSSFile=function(e,t){var a,i=e.find('link[href*="/apex_ui/css/Theme-Standard"]'),r=e.find('link[href*="/apex_ui/css/Theme-Dark"]');("dark"===t||"dark-auto"===t)&&i.length>0?(a=i.attr("href"),i.attr("href",a.replace("Theme-Standard","Theme-Dark"))):("standard"===t||"standard-auto"===t)&&r.length>0&&(a=r.attr("href"),r.attr("href",a.replace("Theme-Dark","Theme-Standard")))},e.isOSDarkMode=function(){return a&&a.matches},e.isBuilderDarkMode=function(){return(t("body iframe").length>0?t("body iframe").contents():t("html")).find('link[href*="/apex_ui/css/Theme-Dark"]').length>0},e.autoDarkMode=function(){var t=e.isOSDarkMode()?"dark-auto":"standard-auto";e.changeUIMode(t)},e.initUIAppearance=function(){var a=t("body");(a.hasClass("apex-theme-standard-auto")||a.hasClass("apex-theme-dark-auto"))&&e.autoDarkMode()},t((function(){e.initUIAppearance(),t("button.js-ui-mode-btn").on("click",(function(){t("button.js-ui-mode-btn").removeClass("is-on is-off").addClass("is-off").attr("aria-current","false");var a=t(this),i=a.data("mode");a.removeClass("is-off").addClass("is-on").attr("aria-current","true"),"auto"===i?e.autoDarkMode():"standard"===i?e.changeUIMode("standard"):"dark"===i&&e.changeUIMode("dark")}))}))}(apex.builder,apex.jQuery);try{var gTestArray,gTestId,gReturn="F4000_P4017_SOURCE_CHART";function ChartSqlReturn(e){$v_PopupReturn("P4000_CHART_SQL",gReturn),window.close()}var gReorder,gReSequence=!1,gReSequenceBy=10,gId=!1;function rAlign(e){var t,a=e.split("-");switch(a[0]){case"CENTER":t="text-align:center;";break;case"RIGHT":t="text-align:right;";break;case"LEFT":t="text-align:left;";break;default:t=" "}if(a[1])switch(a[1]){case"BOTTOM":t+="vertical-align:bottom;";break;case"CENTER":t+="vertical-align:middle;";break;case"TOP":t+="vertical-align:top;";break;default:t+=" "}return t}function callConditionsPopup(e,t){var a="f?p=4000:271:"+t+":::271:PASSBACK:"+e.name;apex.navigation.popup({url:a})}function callPageTemplatePopup(e,t,a,i){var r="f?p=4000:74:"+t+":::74:F4000_P74_PASSBACK,F4000_P74_FLOW_ID,F4000_P74_PAGE_ID:"+e.name+","+a+","+i;apex.navigation.popup({url:r})}var gThis=!1,lEl=!1,lH=!1,gFARButtonListCurrent="htmldbButtonListCurrent",gFARButtonList="htmldbButtonList2",gFARCookieName="ORA_WWV_ATTRIBUTE_PAGE";function uR(){gThis&&(gThis.className="htmldbButtonList",gThis==$x("ALL")&&(gThis=$x("ALL")))}function filterAttributeRegions(e,t){var a=$x("BB")?$x("BB"):$x("ContentArea");a=a||$x("ContentBody");try{var i=t.substr(1);if("ALL"==i||"DEFAULTALL"==i)e.className=gFARButtonListCurrent,"DEFAULTALL"!=i&&apex.storage.setCookie(gFARCookieName,$x("pFlowStepId").value+","+t),uF(),$x_Show(["BB","ContentArea","ContentBody"]);else{$x("ALL")&&($x("ALL").className=gFARButtonList),uR(),e.className=gFARButtonListCurrent,gThis=e,lH=$x_ByClass("rc-title",a,"DIV");for(var r=0;r<lH.length;r++)if($x_Hide($x_UpTill(lH[r],"","rounded-corner-region")),lH[r].getElementsByTagName("A")){var n=lH[r].getElementsByTagName("A")[0];n&&n.name&&n.name==i&&(lEl=n)}lEl&&$x_Show($x_UpTill(lEl,"","rounded-corner-region")),apex.storage.setCookie(gFARCookieName,$x("pFlowStepId").value+","+t),$x_Show(["BB","ContentArea","ContentBody"])}}catch(e){uF(),$x_Show(["BB","ContentArea","ContentBody"])}}function propTest(){var e,t=document.URL,a=t.lastIndexOf("#");if(-1!=a)e=t.substring(a);else if(apex.storage.getCookie(gFARCookieName)){var i=apex.storage.getCookie(gFARCookieName).split(",")[0];$x("pFlowStepId").value==i&&-1==a&&(e=apex.storage.getCookie(gFARCookieName).split(",")[1])}else e=!1;if(e)for(var r=$x("ql").getElementsByTagName("A"),n=0,s=r.length;n<s;n++)-1!=r[n].getAttribute("href").lastIndexOf(e)&&qF(r[n],e);else qF($x("ALL"),"#DEFAULTALL")}function unfilterAttributeRegions(){var e=$x("BB")?$x("BB"):$x("ContentArea");e=e||$x("ContentBody");try{for(var t=$x_ByClass("rc-title",e,"DIV"),a=0,i=t.length;a<i;a++)$x_Show($x_UpTill(t[a],"","rounded-corner-region"));uR(),scroll(0,0)}catch(e){scroll(0,0)}}uF=unfilterAttributeRegions,qF=filterAttributeRegions}catch(e){}function show_download_format_page(){var e=$x("P687_FORMAT_MASK")?"P687_FORMAT_MASK":"P422_COLUMN_FORMAT",t="wwv_flow_file_mgr.show_download_format_page?p_format="+$v(e);apex.navigation.popup({url:t})}function show_download_format_page_set(){var e=[$v("a01"),$v("a02"),$v("a03"),$v("a04"),$v("a05"),$v("a06"),$v("a07"),$v("a08"),$v("a09"),$v("a10"),$v("a11")],t=opener.$x("P687_FORMAT_MASK")?"P687_FORMAT_MASK":"P422_COLUMN_FORMAT",a=$u_ArrayToString(e,":");opener.$s(t,a),window.close(),opener.$x(t).focus()}apex.builder.dynamicAttributes={gCurrentSelection:{pluginType:null,pluginName:null},gAjaxIdentifier:null,getAttributeSelector:function(e,t,a){return"#"+e+"ATTRIBUTE_"+(t<10?"0":"")+t+a},getAttributesSelector:function(e,t){for(var a="",i=1;i<=25;i++)i>1&&(a+=","),a+=apex.builder.dynamicAttributes.getAttributeSelector(e,i,t);return a},hide:function(e){apex.jQuery(apex.builder.dynamicAttributes.getAttributesSelector(e,"_CONTAINER")).hide(),apex.jQuery("#"+e+"FORMAT_MASK_DATE,#"+e+"FORMAT_MASK_NUMBER,#"+e+"IS_REQUIRED").each((function(){apex.item(this).hide()}))},show:function(e,t,a,i,r,n,s,p,u,o){var _=apex.jQuery(apex.builder.dynamicAttributes.getAttributesSelector(a,"")),E=apex.jQuery(apex.builder.dynamicAttributes.getAttributesSelector(a,"_CONTAINER")),l=E.filter(":last").next(),d=E.filter(":last").parent(),A=function(e,t,a){return'<table class="lov" cellspacing="0" cellpadding="0" border="0" role="presentation"><tr><td><input id="#ID#" name="#NAME#" type="text" maxlength="#MAX_LEN#" size="'+t+'" /></td><td><a class="a-Button a-Button--popupLOV" href="'+a+'"><span class="a-Icon icon-popup-lov"><span class="visuallyhidden">'+s+e.label+"</span></span></a></td></tr></table>"};apex.builder.dynamicAttributes.hide(a),i[t]&&i[t].attributeList.length>0&&apex.jQuery.each(i[t].attributeSortList,(function(e,t){var i=apex.jQuery(apex.builder.dynamicAttributes.getAttributeSelector(a,t,"_CONTAINER"));0===l.length?d.append(i):l.before(i)})),r||_.each((function(){apex.jQuery(this).closest("a-Form-inputContainer").empty().html('<input type="hidden" id="'+this.id+'" name="'+this.name+'" value="">')})),i[t]&&(i[t].attributeList.length>0||/FORMAT_MASK/.test(i[t].standardAttributes)||/SESSION_STATE/.test(i[t].standardAttributes))?(apex.builder.dynamicAttributes.gCurrentSelection={pluginType:e,pluginName:t},apex.jQuery.each(i[t].attributeList,(function(e,t){var i;function n(e,t,a){var i="",r=!1;return apex.jQuery.each(e,(function(e,n){i+=t.replace(/#SEQ#/g,e).replace(/#R#/g,n.r).replace(/#D#/g,n.d),n.r===a&&(r=!0)})),a&&!r&&(i+=t.replace(/#SEQ#/g,9999).replace(/#R#/g,E).replace(/#D#/g,E+"*")),i}if(t){var s,u=apex.jQuery(apex.builder.dynamicAttributes.getAttributeSelector(a,e+1,"")),o=u.attr("id"),_=u.attr("name"),E=u.val(),l=apex.jQuery("#"+o+"_CONTAINER .a-Form-labelContainer"),d=l.find("label"),T=l.find(".a-Form-required"),h=l.find(".u-VisuallyHidden"),N=apex.jQuery("#"+o+"_CONTAINER .a-Form-inputContainer").find(".a-Button--helpButton");d.text(t.label).append(h),N.attr("title",p+t.label).attr("aria-label",p+t.label),t.isRequired&&"SELECT LIST"!==t.type&&"CHECKBOX"!==t.type?(d.removeClass("aOptional").addClass("aRequired"),T.show(),h.show()):(d.removeClass("aRequired").addClass("aOptional"),T.hide(),h.hide()),r?!E&&t.defaultValue&&(E=t.defaultValue):E=t.defaultValue,"TEXTAREA"===t.type||"SQL"===t.type||"PLSQL"===t.type||"PLSQL EXPRESSION"===t.type||"PLSQL EXPRESSION BOOLEAN"===t.type||"PLSQL FUNCTION BODY"===t.type||"PLSQL FUNCTION BODY BOOLEAN"===t.type||"HTML"===t.type||"XML"===t.type||"JAVASCRIPT"===t.type?s='<div class="apex-item-group apex-item-group--textarea"><textarea id="#ID#" name="#NAME#" class="textarea apex-item-textarea" data-resizable="true" cols="#DISPLAY_LEN#" maxlength="#MAX_LEN#" rows="'+("TEXTAREA"===t.type?"4":"8")+'"></textarea></div>':"PAGE NUMBER"===t.type||"PAGE NUMBERS"===t.type||"AUTHORIZATION GROUPS"===t.type?(i=/S$/.test(t.type),s=A(t,i?"50":"30","javascript:apex.navigation.popup({url:'wwv_flow.show?p_flow_id=#APP_ID#&p_flow_step_id=#APP_PAGE_ID#&p_instance=#APP_SESSION#&p_request=NATIVE%253D#AJAX_IDENTIFIER#&x01="+t.type+"&x02=#ID#"+("AUTHORIZATION GROUPS"===t.type?"&x03=' + $v('"+a+"ATTRIBUTE_02')":"'")+",name:'winLovList',width:400,height:450}); void(0);")):"PAGE ITEM"===t.type||"PAGE ITEMS"===t.type?(i=/S$/.test(t.type),s=A(t,i?"50":"30","javascript:popUp('f?p=4000:246:#APP_SESSION#::NO:RP,246:F4000_P246_CALLING_FIELD,P246_APPEND,F4000_P246_PAGE:#ID#,"+(i?"Y":"N")+",#EDIT_PAGE_ID#');")):"CHECKBOX"===t.type||"SELECT LIST"===t.type?(t.isRequired&&!E&&t.valueList.length>0&&(E=t.valueList[0].r),s='<select id="#ID#" name="#NAME#" class="selectlist" size="1">'+n(t.valueList,'<option value="#R#">#D#</option>',E)+"</select>"):s="CHECKBOXES"===t.type?'<fieldset id="#ID#_fieldset" class="checkbox_group" tabindex="-1"><input id="#ID#" name="#NAME#" type="hidden">'+n(t.valueList,'<input id="#ID#_#SEQ#" type="checkbox" value="#R#" /><label for="#ID#_#SEQ#">#D#</label><br>')+"</fieldset>":"COLOR"===t.type?'<input id="#ID#" name="#NAME#" type="text" maxlength="30" size="10" />':"ICON"===t.type?'<input id="#ID#" name="#NAME#" type="text" maxlength="255" size="30" />':'<input id="#ID#" name="#NAME#" type="text" maxlength="#MAX_LEN#" size="#DISPLAY_LEN#" />',u.val(null).closest("#"+o+"_wrapper").html(s.replace(/#ID#/g,o).replace(/#NAME#/g,_).replace(/#DISPLAY_LEN#/g,t.displayLen).replace(/#MAX_LEN#/g,t.maxLen).replace(/#APP_ID#/g,$v("pFlowId")).replace(/#APP_PAGE_ID#/g,$v("pFlowStepId")).replace(/#APP_SESSION#/g,$v("pInstance")).replace(/#EDIT_PAGE_ID#/g,apex.builder.gPageId).replace(/#IMAGE_PREFIX#/g,apex_img_dir).replace(/#AJAX_IDENTIFIER#/g,apex.builder.dynamicAttributes.gAjaxIdentifier)),"TEXTAREA"===t.type||"SQL"===t.type||"PLSQL"===t.type||"PLSQL EXPRESSION"===t.type||"PLSQL FUNCTION BODY"===t.type||"JAVASCRIPT"===t.type?apex.item.attach($("#"+o+"_CONTAINER")):"CHECKBOXES"===t.type&&apex.jQuery("#"+o).siblings("input[type=checkbox]").click((function(){var e=apex.jQuery(this).siblings("input[type=hidden]"),t=""===e.val()?[]:e.val().split(":");this.checked?t.push(this.value):t.splice(apex.jQuery.inArray(this.value,t),1),e.val(t.join(":")).change()})),apex.jQuery("#"+o).val(E),"CHECKBOXES"===t.type&&apex.jQuery.each(E.split(":"),(function(e,t){apex.jQuery("#"+o).siblings('input[type=checkbox][value="'+t+'"]').attr("checked",!0)}))}})),apex.jQuery.each(i[t].attributeList,(function(e,r){r&&(apex.builder.dynamicAttributes.showHideAttribute(a,e,i[t].attributeList,u,o),r.dependingOnAttrSeq&&r.dependingOnCondType&&apex.jQuery("#"+a+"ATTRIBUTE_"+r.dependingOnAttrSeq).change((function(){apex.builder.dynamicAttributes.showHideAttribute(a,e,i[t].attributeList,u,o)})))})),/FORMAT_MASK_DATE/.test(i[t].standardAttributes)?(apex.item(a+"FORMAT_MASK_DATE").show(),apex.item(a+"FORMAT_MASK").hide()):/FORMAT_MASK_NUMBER/.test(i[t].standardAttributes)?(apex.item(a+"FORMAT_MASK_NUMBER").show(),apex.item(a+"FORMAT_MASK").hide()):apex.item(a+"FORMAT_MASK").show(),/SESSION_STATE/.test(i[t].standardAttributes)&&apex.item(a+"IS_REQUIRED").show(),n&&(i[t].attributeList.length>0||/FORMAT_MASK/.test(i[t].standardAttributes)||/SESSION_STATE/.test(i[t].standardAttributes)?($x_Show(n),apex.builder.anchor.show(n)):($x_Hide(n),apex.builder.anchor.hide(n)))):(apex.builder.dynamicAttributes.gCurrentSelection={pluginType:null,pluginName:null},"ITEM TYPE"===e&&apex.item(a+"FORMAT_MASK").show(),n&&($x_Hide(n),apex.builder.anchor.hide(n)));var T=[],h=null,N=null,I=[],x=[];if(4446!=$v("pFlowStepId"))switch(e){case"ITEM TYPE":apex.jQuery.each(["LIST_OF_VALUES","LABEL_ALIGNMENT","PLACEHOLDER","FIELD_TEMPLATE","CSIZE","CHEIGHT","TAG_ATTRIBUTES2","LOV_DISPLAY_NULL","LOV_NULL_TEXT","LOV_CASCADE_PARENT_ITEMS","AJAX_ITEMS_TO_SUBMIT","AJAX_OPTIMIZE_REFRESH","STATIC_LOV_POPUP","DYNAMIC_LOV_POPUP","ENCRYPT_SESSION_STATE_YN","ESCAPE_ON_HTTP_OUTPUT"],(function(){apex.item(a+this).hide()})),apex.jQuery("#GRID,#LABEL,#ELEMENT,#VALIDATION,#DEFAULT,#SOURCE,#LOV,#QP,#READONLY,#READONLY,#HELP,#HELP").hide().each((function(){apex.builder.anchor.hide(this.id)})),i[t]?(T=i[t].standardAttributes.split(":"),h=i[t].sqlMinColumnCount,N=i[t].sqlMaxColumnCount):(T=["VISIBLE","SOURCE","SESSION_STATE","ELEMENT","WIDTH","HEIGHT","ELEMENT_OPTION","QUICKPICK","READONLY","ENCRYPT","LOV","LOV_DISPLAY_NULL"],h=2,N=2),-1!=apex.jQuery.inArray("VISIBLE",T)&&(x.push("#GRID"),I.push("FIELD_TEMPLATE"),-1!=apex.jQuery.inArray("WIDTH",T)&&I.push("CSIZE"),-1!=apex.jQuery.inArray("HEIGHT",T)&&I.push("CHEIGHT"),x.push("#LABEL"),x.push("#HELP"),I.push("LABEL_ALIGNMENT"),-1!=apex.jQuery.inArray("PLACEHOLDER",T)&&I.push("PLACEHOLDER"),-1!=apex.jQuery.inArray("ELEMENT_OPTION",T)&&I.push("TAG_ATTRIBUTES2"),-1!=apex.jQuery.inArray("LOV",T)&&(I.push("LIST_OF_VALUES"),x.push("#LOV"),h<=2&&N>=2&&(I.push("STATIC_LOV_POPUP"),I.push("DYNAMIC_LOV_POPUP")),apex.builder.dynamicAttributes.setSqlExamples(e,t),-1!=apex.jQuery.inArray("LOV_DISPLAY_NULL",T)&&(I.push("LOV_DISPLAY_NULL"),"YES"===$v(a+"LOV_DISPLAY_NULL")&&I.push("LOV_NULL_TEXT")),-1!=apex.jQuery.inArray("CASCADING_LOV",T)&&(I.push("LOV_CASCADE_PARENT_ITEMS"),apex.item(a+"LOV_CASCADE_PARENT_ITEMS").isEmpty()||(I.push("AJAX_ITEMS_TO_SUBMIT"),I.push("AJAX_OPTIMIZE_REFRESH")))),-1!=apex.jQuery.inArray("QUICKPICK",T)&&x.push("#QP"),-1!=apex.jQuery.inArray("READONLY",T)&&x.push("#READONLY"),-1!=apex.jQuery.inArray("ESCAPE_OUTPUT",T)&&I.push("ESCAPE_ON_HTTP_OUTPUT")),-1!=apex.jQuery.inArray("ELEMENT",T)&&x.push("#ELEMENT"),-1!=apex.jQuery.inArray("SOURCE",T)&&(x.push("#SOURCE"),x.push("#DEFAULT")),-1!=apex.jQuery.inArray("ENCRYPT",T)&&I.push("ENCRYPT_SESSION_STATE_YN"),"NATIVE_STOP_AND_START_HTML_TABLE"===t&&(x.push("#LABEL"),x.push("#HELP")),apex.jQuery.each(I,(function(){apex.item(a+this).show()})),apex.jQuery(x.join()).show().each((function(){"GRID"===this.id?apex.builder.grid.showItemEdit():apex.builder.anchor.show(this.id)}));break;case"REGION TYPE":apex.jQuery.each(["AJAX_ITEMS_TO_SUBMIT","ESCAPE_ON_HTTP_OUTPUT"],(function(){apex.item(a+this).hide()})),apex.jQuery("#SOURCE,#SQL_EXAMPLES").hide().each((function(){apex.builder.anchor.hide(this.id)})),i[t]?(T=i[t].standardAttributes.split(":"),lHasSqlExamples=i[t].hasSqlExamples):T=["SOURCE_PLAIN"],-1==apex.jQuery.inArray("SOURCE_PLAIN",T)&&-1==apex.jQuery.inArray("SOURCE_SQL",T)||(x.push("#SOURCE"),-1!=apex.jQuery.inArray("SOURCE_SQL",T)&&(apex.builder.dynamicAttributes.setSqlExamples(e,t),x.push("#SQL_EXAMPLES"))),-1==apex.jQuery.inArray("AJAX_ITEMS_TO_SUBMIT",T)&&-1==apex.jQuery.inArray(t,["NATIVE_IR","NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"])||I.push("AJAX_ITEMS_TO_SUBMIT"),-1!=apex.jQuery.inArray("ESCAPE_OUTPUT",T)&&I.push("ESCAPE_ON_HTTP_OUTPUT"),apex.jQuery.each(I,(function(){apex.item(a+this).show()})),x.length>0&&apex.jQuery(x.join()).show().each((function(){apex.builder.anchor.show(this.id)}));break;case"DYNAMIC ACTION":if(apex.item(a+"STOP_EXECUTION_ON_ERROR").hide(),apex.item(a+"WAIT_FOR_RESULT").hide(),$x_Hide("AFFECTED_ELEMENTS"),apex.builder.anchor.hide("AFFECTED_ELEMENTS"),!t)return;T=i[t].standardAttributes.split(":"),-1!=apex.jQuery.inArray("STOP_EXECUTION_ON_ERROR",T)&&apex.item(a+"STOP_EXECUTION_ON_ERROR").show(),-1!=apex.jQuery.inArray("WAIT_FOR_RESULT",T)&&apex.item(a+"WAIT_FOR_RESULT").show(),r||(-1!=apex.jQuery.inArray("ONLOAD",T)?$s(a+"EXECUTE_ON_PAGE_INIT","Y"):$s(a+"EXECUTE_ON_PAGE_INIT",null));var c=$v(a+"AFFECTED_ELEMENTS_TYPE");apex.jQuery("#"+a+'AFFECTED_ELEMENTS_TYPE option[value!=""]').remove();var S=[];-1!=apex.jQuery.inArray("ITEM",T)&&S.push("ITEM"),-1!=apex.jQuery.inArray("BUTTON",T)&&S.push("BUTTON"),-1!=apex.jQuery.inArray("REGION",T)&&S.push("REGION"),-1!=apex.jQuery.inArray("JQUERY_SELECTOR",T)&&S.push("JQUERY_SELECTOR"),-1!=apex.jQuery.inArray("TRIGGERING_ELEMENT",T)&&S.push("TRIGGERING_ELEMENT"),-1!=apex.jQuery.inArray("EVENT_SOURCE",T)&&S.push("EVENT_SOURCE"),-1!=apex.jQuery.inArray("JAVASCRIPT_EXPRESSION",T)&&(S.push("DOM_OBJECT"),S.push("JAVASCRIPT_EXPRESSION")),0==S.length?($x_Hide("AFFECTED_ELEMENTS"),apex.builder.anchor.hide("AFFECTED_ELEMENTS"),apex.item(a+"AFFECTED_ELEMENTS_TYPE").hide(),$s(a+"AFFECTED_ELEMENTS_TYPE","")):($x_Show("AFFECTED_ELEMENTS"),apex.builder.anchor.show("AFFECTED_ELEMENTS"),apex.item(a+"AFFECTED_ELEMENTS_TYPE").show(),apex.jQuery.each(S,(function(){apex.jQuery('#ELEMENTS_TYPE_CLONE option[value="'+this+'"]').clone().appendTo("#"+a+"AFFECTED_ELEMENTS_TYPE")})),$s(a+"AFFECTED_ELEMENTS_TYPE",c));break;case"AUTHENTICATION TYPE":t&&-1!==$.inArray("INVALID_SESSION",i[t].standardAttributes.split(":"))?apex.jQuery("#INVALID_SESSION_ATTRIBUTES").show():apex.jQuery("#INVALID_SESSION_ATTRIBUTES").hide()}},showHideAttribute:function(e,t,a,i,r){var n=e+"ATTRIBUTE_",s=n+(t<9?"0":"")+(t+1);!function e(t){var s,p,u,o=!i||a[t].showInWizard;if(o&&!0===a[t].isExcluded&&(o=!1),o&&r&&a[t].supportedUiTypes&&(o=-1!==apex.jQuery.inArray(r,a[t].supportedUiTypes.split(":"))),o&&a[t].dependingOnAttrSeq&&a[t].dependingOnCondType)if(o=e(parseInt(a[t].dependingOnAttrSeq,10)-1))switch(s=$v(n+a[t].dependingOnAttrSeq),p=a[t].dependingOnExpr,(u="CHECKBOXES"===a[parseInt(a[t].dependingOnAttrSeq,10)-1].type)&&(s=""===s?[]:s.split(":")),a[t].dependingOnCondType){case"EQUALS":o=u?-1!=apex.jQuery.inArray(p,s):s===p;break;case"NOT_EQUALS":o=u?-1===apex.jQuery.inArray(p,s):s!==p;break;case"IN_LIST":p=p.split(","),u?(o=!1,apex.jQuery.each(s,(function(e,t){if(o=-1!==apex.jQuery.inArray(t,p))return!1}))):o=-1!==apex.jQuery.inArray(s,p);break;case"NOT_IN_LIST":p=p.split(","),u?(o=s.length>0,apex.jQuery.each(s,(function(e,t){if(!(o=-1===apex.jQuery.inArray(t,p)))return!1}))):o=-1===apex.jQuery.inArray(s,p)&&""!==s;break;case"NULL":o=u?0===s.length:!s;break;case"NOT_NULL":o=u?s.length>0:s}else!1===a[t].dependingOnAlwaysEval&&(o=!0);return o}(t)?apex.item(s).hide():apex.item(s).show(),apex.jQuery("#"+s).change()},help:function(e,t){var a="wwv_flow_item_help.show_plugin_attribute_help?p_application_id="+(e||$v("pFlowId"))+"&p_builder_page_id="+$v("pFlowStepId")+"&p_session_id="+$v("pInstance")+"&p_plugin_type="+apex.builder.dynamicAttributes.gCurrentSelection.pluginType+"&p_plugin_name="+apex.builder.dynamicAttributes.gCurrentSelection.pluginName+"&p_attribute_scope="+(4446==$v("pFlowStepId")?"APPLICATION":"COMPONENT")+"&p_attribute_sequence="+t.substr(t.length-2);apex.theme.popupFieldHelp("","",a)},setSqlExamples:function(e,t){var a={p_request:"APPLICATION_PROCESS=get_plugin_sql_examples",p_flow_id:$v("pFlowId"),p_flow_step_id:$v("pFlowStepId"),p_instance:$v("pInstance"),x01:e,x02:t};apex.jQuery.ajax({mode:"abort",port:"setSqlExamples",type:"post",url:"wwv_flow.show",data:a,success:function(e){apex.jQuery("#bodySQL_EXAMPLES").html(e)}})}},$((function(){$(document.body).on("click",".js-dynamicItemHelp",(function(){var e=$(this).attr("data-itemname"),t=$(this).attr("data-appid")||$v("pFlowId");e&&t&&apex.builder.dynamicAttributes.help(t,e)})).on("keydown",(function(e){112===e.which&&e.altKey&&$(e.target).parents().each((function(e){var t,a,i;return!(e>4)&&((t=$(this).find(".js-dynamicItemHelp")).length?(a=t.attr("data-itemname"),i=t.attr("data-appid")||$v("pFlowId"),a&&i&&apex.builder.dynamicAttributes.help(i,a),!1):void 0)}))}))})),apex.builder.grid={show:function(e,t){var a={hasGridSupport:"Y"===$v(e+"GRID_HAS_GRID_SUPPORT"),usesTable:"Y"===$v(e+"GRID_USES_TABLE"),hasLabelColumnSpan:"Y"===$v(e+"GRID_HAS_LABEL_COLUMN_SPAN"),hasColumnCss:"Y"===$v(e+"GRID_HAS_COLUMN_CSS"),hasColumnAttrs:"Y"===$v(e+"GRID_HAS_COLUMN_ATTRS"),showNewGrid:!1,showNewRow:!1,showNewColumn:!1,isNewColumn:!1,pagePrefix:e,itemPrefix:e+t};return a.hasGridSupport?(apex.builder.anchor.show("GRID"),apex.jQuery("#GRID").show(),apex.item(a.itemPrefix+"GRID_COLUMN").show(!0),"Y"===$v(e+"GRID_HAS_NEW_GRID")&&(a.showNewGrid=!0),a.showNewGrid&&"N"!==$v(a.itemPrefix+"NEW_GRID")||(a.showNewRow=!0),apex.item(a.itemPrefix+"GRID_COLUMN").isEmpty()&&a.showNewRow&&"N"===$v(a.itemPrefix+"NEW_GRID_ROW")&&(a.showNewColumn=!0),(!a.showNewRow||a.showNewRow&&"Y"===$v(a.itemPrefix+"NEW_GRID_ROW")||!a.showNewColumn||a.showNewColumn&&"Y"===$v(a.itemPrefix+"NEW_GRID_COLUMN"))&&(a.isNewColumn=!0),a.showNewGrid?apex.item(a.itemPrefix+"NEW_GRID").show(!0):apex.item(a.itemPrefix+"NEW_GRID").hide(!0),a.showNewRow?apex.item(a.itemPrefix+"NEW_GRID_ROW").show(!0):apex.item(a.itemPrefix+"NEW_GRID_ROW").hide(!0),a.showNewColumn?apex.item(a.itemPrefix+"NEW_GRID_COLUMN").show(!1):apex.item(a.itemPrefix+"NEW_GRID_COLUMN").hide(!1),"Y"===$v(e+"GRID_HAS_COLUMN_SPAN")&&a.isNewColumn?apex.item(a.itemPrefix+"GRID_COLUMN_SPAN").show(!0):apex.item(a.itemPrefix+"GRID_COLUMN_SPAN").hide(!0),a.hasLabelColumnSpan&&a.isNewColumn?apex.item(a.itemPrefix+"GRID_LABEL_COLUMN_SPAN").show(!0):apex.item(a.itemPrefix+"GRID_LABEL_COLUMN_SPAN").hide(!0),a.hasColumnCss&&a.isNewColumn?apex.item(a.itemPrefix+"GRID_COLUMN_CSS").show(!0):apex.item(a.itemPrefix+"GRID_COLUMN_CSS").hide(!0),a.hasColumnAttrs&&a.isNewColumn?apex.item(a.itemPrefix+"GRID_COLUMN_ATTR").show(!0):apex.item(a.itemPrefix+"GRID_COLUMN_ATTR").hide(!0)):(apex.builder.anchor.hide("GRID"),apex.jQuery("#GRID").hide()),a},refreshGridColumns:function(e){var t="P"+$v("pFlowStepId")+"_";"Y"===$v(t+"GRID_HAS_GRID_SUPPORT")&&(apex.jQuery("#"+t+e+"GRID_COLUMN").trigger("apexrefresh"),apex.jQuery("#"+t+e+"GRID_COLUMN_SPAN").trigger("apexrefresh"))},initRegionEdit:function(){var e="#P"+$v("pFlowStepId")+"_";apex.jQuery(e+"PLUG_NEW_GRID,"+e+"PLUG_NEW_GRID_ROW,"+e+"PLUG_GRID_COLUMN,"+e+"PLUG_NEW_GRID_COLUMN").change(apex.builder.grid.showRegionEdit),setTimeout(apex.builder.grid.showRegionEdit,1)},showRegionEdit:function(){apex.builder.grid.show("P"+$v("pFlowStepId")+"_","PLUG_")},initItemEdit:function(){var e="#P"+$v("pFlowStepId")+"_";apex.jQuery(e+"NEW_GRID,"+e+"NEW_GRID_ROW,"+e+"GRID_COLUMN,"+e+"NEW_GRID_COLUMN,"+e+"LABEL_ALIGNMENT").change(apex.builder.grid.showItemEdit)},showItemEdit:function(){var e;(e=apex.builder.grid.show("P"+$v("pFlowStepId")+"_","")).hasGridSupport?(e.usesTable&&e.isNewColumn?(apex.item(e.itemPrefix+"GRID_ROW_SPAN").show(!1),apex.item(e.itemPrefix+"LABEL_ALIGNMENT").show(!0),apex.item(e.itemPrefix+"FIELD_ALIGNMENT").show(!0)):(apex.item(e.itemPrefix+"GRID_ROW_SPAN").hide(!1),apex.item(e.itemPrefix+"LABEL_ALIGNMENT").hide(!0),apex.item(e.itemPrefix+"FIELD_ALIGNMENT").hide(!0)),e.usesTable&&e.isNewColumn&&"ABOVE"!=$v(e.itemPrefix+"LABEL_ALIGNMENT")?apex.item(e.itemPrefix+"CATTRIBUTES").show(!0):apex.item(e.itemPrefix+"CATTRIBUTES").hide(!0),e.usesTable&&e.isNewColumn&&e.hasColumnAttrs?apex.item(e.itemPrefix+"READ_ONLY_DISP_ATTR").show(!0):apex.item(e.itemPrefix+"READ_ONLY_DISP_ATTR").hide(!0)):(apex.item(e.itemPrefix+"LABEL_ALIGNMENT").hide(!0),apex.item(e.itemPrefix+"FIELD_ALIGNMENT").hide(!0),apex.item(e.itemPrefix+"CATTRIBUTES").hide(!0),apex.item(e.itemPrefix+"READ_ONLY_DISP_ATTR").hide(!0))},initButtonEdit:function(){var e="#P"+$v("pFlowStepId")+"_";apex.jQuery(e+"NEW_GRID,"+e+"NEW_GRID_ROW,"+e+"GRID_COLUMN,"+e+"NEW_GRID_COLUMN").change(apex.builder.grid.showButtonEdit),setTimeout(apex.builder.grid.showButtonEdit,1)},showButtonEdit:function(){var e;(e=apex.builder.grid.show("P"+$v("pFlowStepId")+"_","")).hasGridSupport?e.usesTable&&e.isNewColumn?(apex.item(e.itemPrefix+"GRID_ROW_SPAN").show(!1),apex.item(e.itemPrefix+"FIELD_ALIGNMENT").show(!0)):(apex.item(e.itemPrefix+"GRID_ROW_SPAN").hide(!1),apex.item(e.itemPrefix+"FIELD_ALIGNMENT").hide(!0)):apex.item(e.itemPrefix+"FIELD_ALIGNMENT").hide(!0)}},apex.builder.plugin={initConditionItems:function(e,t,a,i,r,n,s,p){function u(){var u=$v(e),o=["NEVER","ALWAYS","BROWSER_IS_NSCP","BROWSER_IS_MSIE","BROWSER_IS_MSIE_OR_NSCP","BROWSER_IS_OTHER","WHEN_ANY_ITEM_IN_CURRENT_PAGE_HAS_CHANGED","WHEN_THIS_PAGE_SUBMITTED","WHEN_THIS_PAGE_NOT_SUBMITTED","PAGE_IS_IN_PRINTER_FRIENDLY_MODE","PAGE_IS_NOT_IN_PRINTER_FRIENDLY_MODE","USER_IS_NOT_PUBLIC_USER","USER_IS_PUBLIC_USER","DISPLAYING_INLINE_VALIDATION_ERRORS","NOT_DISPLAYING_INLINE_VALIDATION_ERRORS","MAX_ROWS_LT_ROWS_FETCHED","MIN_ROW_GT_THAN_ONE","IS_READ_ONLY","IS_NOT_READ_ONLY"];-1!=apex.jQuery.inArray(u,o)||u===s||""===u||"%null%"===u?(apex.item(t).hide(),apex.item(a).hide(),apex.item(i).hide()):-1!=apex.jQuery.inArray(u,["EXISTS","NOT_EXISTS","EXPRESSION","PLSQL_ERROR","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT","ITEM_IS_NULL","ITEM_IS_NOT_NULL","ITEM_NOT_NULL","ITEM_IS_ZERO","ITEM_IS_NOT_ZERO","ITEM_IS_NULL_OR_ZERO","ITEM_NOT_NULL_OR_ZERO","ITEM_CONTAINS_NO_SPACES","ITEM_IS_NUMERIC","ITEM_IS_NOT_NUMERIC","ITEM_IS_ALPHANUMERIC","REQUEST_EQUALS_CONDITION","REQUEST_NOT_EQUAL_CONDITION","REQUEST_IN_CONDITION","REQUEST_NOT_IN_CONDITION","CURRENT_PAGE_EQUALS_CONDITION","CURRENT_PAGE_NOT_EQUAL_CONDITION","CURRENT_PAGE_IN_CONDITION","CURRENT_PAGE_NOT_IN_CONDITION","CURRENT_LANG_IN_COND1","CURRENT_LANG_NOT_IN_COND1","CURRENT_LANG_NOT_EQ_COND1","CURRENT_LANG_EQ_COND1","DAD_NAME_EQ_CONDITION","DAD_NAME_NOT_EQ_CONDITION","SERVER_NAME_EQ_CONDITION","SERVER_NAME_NOT_EQ_CONDITION","HTTP_HOST_EQ_CONDITION","HTTP_HOST_NOT_EQ_CONDITION","TO_UPPER_CASE","TO_LOWER_CASE","TRIM","LTRIM","RTRIM","SINGLE_WHITESPACES","REGULAR_EXPRESSION","SQL_QUERY_SINGLE_VALUE","SQL_QUERY_SEMI_COLON"])?(-1!==apex.jQuery.inArray(u,["EXPRESSION","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"])?(apex.item(t).show(),"EXPRESSION"===u?$("#"+t+" option[value=SQL]").show():("SQL"===apex.item(t).getValue()&&apex.item(t).setValue("PLSQL"),$("#"+t+" option[value=SQL]").hide())):apex.item(t).hide(),apex.item(a).show(),apex.item(i).hide()):(apex.item(a).show(),apex.item(i).show(),apex.item(t).hide()),""!==r&&(-1!=apex.jQuery.inArray(u,["EXISTS","NOT_EXISTS","EXPRESSION","PLSQL_ERROR","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"])?apex.item(r).show():apex.item(r).hide()),""!==n&&(""===u||u===s||"%null%"===u||"NEVER"===u?apex.item(n).hide():apex.item(n).show()),""!==p&&(-1!=apex.jQuery.inArray(u,o)||u===s||""===u||"%null%"===u?apex.item(p).hide():apex.item(p).show())}apex.jQuery("#"+e).change((function(){u()})),setTimeout((function(){u()}),1)},initCodeLanguageItem:function(e,t){function a(){var a=$v(t);-1!==apex.jQuery.inArray(a,["EXPRESSION","FUNCTION_BODY","FUNC_BODY_RETURNING_BOOLEAN","FUNC_BODY_RETURNING_ERR_TEXT"])?(apex.item(e).show(),"EXPRESSION"===a?$("#"+e+" option[value=SQL]").show():("SQL"===apex.item(e).getValue()&&apex.item(e).setValue("PLSQL"),$("#"+e+" option[value=SQL]").hide())):apex.item(e).hide()}apex.jQuery("#"+t).change((function(){a()})),setTimeout((function(){a()}),1)},getData:function(){var e,t=this.action.attribute01,a=new htmldb_Get(null,$v("pFlowId"),"PLUGIN="+this.action.ajaxIdentifier,$v("pFlowStepId"));apex.jQuery.each(t.split(","),(function(){var e=apex.jQuery("#"+this)[0];e&&a.add(this,$v(e))})),(e=a.get())&&this.affectedElements.each((function(){$s(this,e)}))},groupSelectList:function(e,t){var a=apex.jQuery.extend({nullValue:""},t);apex.jQuery(e).each((function(){apex.item.create(this.id,{nullValue:a.nullValue})}))},uiComponentsSelectList:function(e,t){var a=apex.jQuery.extend({nullValue:""},t),i=apex.jQuery("#"+e),r=i.html();apex.item.create(e,{nullValue:a.nullValue}),i.find("[data-supported=false]:not([value='"+$v(e)+"'])").remove(),i.change((function(){"$UNSUPPORTED$"===$v(e)&&(i.empty().append(r),i.find("option[value='$UNSUPPORTED$']").remove())}))},wizardSelection:function(e,t){var a=$("#"+e+"_SELECTION",apex.gPageContext$),i=$("#"+e,apex.gPageContext$);function r(){a.empty()}function n(e){var t;a.append(e.entries),a.iconList("refresh"),a.iconList("setSelection",a.children().first()),t=a.iconList("getSelectionValues"),i.val(t[0]).trigger("change")}function s(){apex.widget.util.cascadingLov(a,t.ajaxIdentifier,{pageItems:$(t.pageItemsToSubmit,apex.gPageContext$)},{optimizeRefresh:t.optimizeRefresh,dependingOn:$(t.dependingOnSelector,apex.gPageContext$),success:n,clear:r})}a.iconList({navigation:!0,label:".a-IconList-iconName",activate:function(e,a){i.val(a.values[0]).trigger("change"),t.submitPage&&apex.submit("NEXT"),e.preventDefault()},selectionChange:function(){var e=$(this).iconList("getSelectionValues");i.val(e[0]).trigger("change")}}),apex.item.create(e,{setValue:function(e){i.val(e)},nullValue:"",setFocusTo:function(){return a.iconList("focus"),{focus:function(){}}}}),t.dependingOnSelector&&$(t.dependingOnSelector,apex.gPageContext$).on("apexbeforerefresh",r).change(s),a.on("apexrefresh",s)},templateOptions:function(e,t){var a=apex.jQuery("#"+e),i=apex.jQuery("#"+e+"_HIDDEN"),r=apex.jQuery("#"+e+"_DEFAULT"),n=apex.jQuery("#"+e+"_CONTAINER select, #"+e+"_CONTAINER input[type=checkbox]"),s=[];function p(){var t="",a=!1;r=apex.jQuery("#"+e+"_DEFAULT"),s=r.val().split(":"),apex.jQuery("div#"+e+"_CONTAINER input[type=checkbox]").each((function(e){0==e&&(a="#DEFAULT#"==$v(this.id)),-1!==apex.jQuery.inArray(apex.jQuery("#"+this.id).val(),s)&&(apex.jQuery(this).prop("disabled",a),a?(apex.jQuery(this).prop("checked",!0),apex.jQuery(this).parent().addClass("is-disabled")):apex.jQuery(this).parent().removeClass("is-disabled"))})),n.each((function(){apex.jQuery(this).is(":enabled")&&(t+=$v(this.id).length>0?":"+$v(this.id):"")})),i.val(t.substring(1))}apex.item.create(e,{setFocusTo:$("input,select",a).first()}),a.change(p),apex.jQuery(document).on("apexbeforepagesubmit",p),apex.jQuery("#"+e+"_ADVANCED").collapsible({collapsed:!1}),a.on("apexafterrefresh",(function(){n=apex.jQuery("#"+e+"_CONTAINER select, #"+e+"_CONTAINER input[type=checkbox]"),apex.jQuery("#"+e+"_ADVANCED").collapsible({collapsed:!1})}))}},apex.builder.filePreview={trim:function(e,t){var a,i=e;return i.substr(0,1)==t&&(i=i.substring(1)),a=i.length,i.substr(a-1,1)==t&&(i=i.substring(0,a-1)),i},showPreview:function(e,t,a,i){if(e.data("previewLines")){var r,n,s=this.getLines(e.data("previewLines"),t,"\n",i),p=[],u=[],o="",_="";for(r=0;r<25;r++)_+=" ";for(r=0;r<s.length;r++){for(;s[r].charCodeAt(s[r].length-1)<32;)s[r]=s[r].substr(0,s[r].length-1);p.push(this.getFields(s[r],a,i))}for(r=0;r<p.length;r++)for(n=0;n<p[r].length;n++)(!u[n]||p[r][n].length>u[n])&&(u[n]=p[r][n].length,u[n]>25&&(u[n]=25));for(r=0;r<p.length;r++){for(n=0;n<p[r].length;n++)a&&""!=a?p[r][n].length>25?o=o+(p[r][n]+_).substring(0,u[n]-3)+"...":o+=(p[r][n]+_).substring(0,u[n]):o+=p[r][n],n<p[r].length-1&&(o+="|");o+="\n"}return o}},getFields:function(e,t,a){var i,r=this.getLines(e,9999,"\\t"==t?String.fromCharCode(9):t,a);for(i=0;i<r.length;i++)r[i]=r[i].replace(/^\s+|\s+$/g,""),a&&(r[i]=this.trim(r[i],a));return r},getLines:function(e,t,a,i){for(var r=0,n=0,s=t,p=[];s>0;){if(a&&""!=a?r=e.indexOf(a,n):(s=0,r=e.length),-1==r)s=0,r=e.length;else{for(;i&&(e.substring(n,r).match(new RegExp(i,"g"))||[]).length%2==1;)r=e.indexOf(a,r+1);-1==r&&(r=e.length,s=0)}p.push(e.substring(n,r)),s-=1,n=r+=1}return p},getAsciiLines:function(e,t,a,i,r,n){var s=e.files[0],p=new FileReader,u=s.slice(0,5120),o=this;p.onloadend=function(a){a.target.readyState==FileReader.DONE&&($(e).data("previewLines",a.target.result),t.val(o.showPreview($(e),5,i,r)))};try{p.readAsText(u,n||"utf-8")}catch(e){t.val(apex.lang.formatMessage("DATA_LOAD.NO_PREVIEW"))}}};
!function(n,e,i,o,t){"use strict";e.getAppUnderTestWindowName=function(n){var e="APEX_AUT_";return"Y"===$v("P0_WINDOW_MGMT_SHARE_WINDOW")||(e+=n),e},e.launchAppUnderTest=function(n,i,t){var a="",r=apex.navigation.openInNewWindow("",e.getAppUnderTestWindowName(i),t);return r&&r.$v&&(a=r.$v("pdebug")||""),"BRANCH_TO_PAGE_ACCEPT"===(n=n.split(":"))[3]?(n[6]=n[6]+",P1000_DEBUG",n[7]=n[7]+","+a):n[4]=a,n=n.join(":"),o.openInNewWindow(n,e.getAppUnderTestWindowName(i),t)},e.nameBuilderWindow=function(){window.name&&0!==window.name.indexOf("APEX_BUILDER")||(window.name="APEX_BUILDER_"+$v("pInstance"))},e.initWizardModal=function(){var e=function(){var e=n(".a-Dialog-wizardSteps").height(),i=n(".a-Dialog-footer").height();n(".a-Dialog-body").css({top:e,bottom:i})};n(window).on("apexwindowresized",(function(){e()})),e(),t.modalAutoSize({observeClass:".a-Dialog-body",sections:[".a-Dialog-body",".a-Dialog-wizardSteps",".a-Dialog-footer"]})},e.initStickyHeader=function(e){var i=n("#"+e);if(i[0]){var o=i.outerHeight(),t=i.parent(),a=i.offset().top;n(window).scroll((function(){n(window).scrollTop()>a?(i.addClass("is-fixed"),t.css("margin-top",o)):(i.removeClass("is-fixed"),t.css("margin-top","0"))}))}},e.initWizardProgressBar=function(){t.initWizardProgressBar("a-WizardSteps")},n((function(){function i(){o.openInNewWindow(this.href,"_blank",{favorTabbedBrowsing:!0})}10===document.documentMode&&(document.documentElement.className+=" ie10"),n(".a-Header-tabsContainer").menu({menubar:!0,behaveLikeTabs:!0}).show(),function(e){var i,o,t,a,r=n("#"+e);if(r.length)for(t=r.children("ul").children("li"),a=r.menu("option").items,i=0;i<a.length;i++)(o=a[i].id)&&t.eq(i).addClass(o)}("a_Header_menu"),n("#helpMenu_menu").on("menucreate",(function(){var e=this;n.each(["helpLinkNewWindow","helpLinkForum","helpLinkOTN","helpLinkDocLib"],(function(o,t){var a=n(e).menu("find",t);a&&(a.action=i)}))})),n(".a-Region--hideShow").each((function(){n(this).collapsible({content:n(this).find(".a-Region-body").first()})})),n("body").on("click","button.launch-aut",(function(i){var t=n(this).attr("data-link"),a=function(n){var e,i,o,t,a=null;if((e=n.indexOf("?p="))>=0)if((i=n.substring(e+3).split(":")).length>=8&&"BRANCH_TO_PAGE_ACCEPT"===i[3]){for(o=i[6].split(","),t=i[7].split(","),e=0;e<o.length&&e<t.length;e++)if("FB_FLOW_ID"===o[e]){a=t[e];break}}else a=i[0];return a}(t),r={},d=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";a&&("NONE"===d||/^4\d\d\d$/.test(a)?o.redirect(t):("BROWSER"===d&&(r.favorTabbedBrowsing=!0),e.launchAppUnderTest(t,a,r)))})),n("button.launch-aut").each((function(){var e,i=n(this),o=i.attr("data-link");o||(e=/['"]((ws|f)\?p=.*)['"]/.exec(i.attr("onclick")))&&e.length>1&&(o=e[1],i.removeAttr("onclick"),i.attr("data-link",o))})),n("#accountMenu_menu").menu({customContent:!0,tabBehavior:"NEXT"}),n(document.body).on("dialogopen dialogresizestop",".a-DialogRegion",(function(){var e,i;e=n(this),i=e.find(".a-DialogRegion-buttons").height(),e.find(".a-DialogRegion-body").css("bottom",i)}))}))}(apex.jQuery,apex.builder,apex.util,apex.navigation,apex.theme);
$((function(){"use strict";!function(e,t,a,i,n,o){var s=$v("pInstance"),r=$v("F4000_P1_FLOW")||$v("P4500_CURRENT_APP"),p=e(N+k).length>0,l="",c=$v("pFlowId"),u=[],d=[],h=[],f="",g=!1,S=!1,m=apex_img_dir+"apex_ui/js/staticData/apex_search_common_en.json",v=apex_img_dir+"apex_ui/js/staticData/apex_search_common_"+apex.locale.getLanguage()+".json",C=[20,49,56,57,73,76,78,160,163,196,224,226,227,273,279,433,441,460,479,494,495,514,516,523,527,559,588,589,598,650,680,689,722,733,800,875,876,933,934,1500,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2111,2115,2116,2117,2150,2151,2152,2153,2154,2155,2157,3e3,3001,3005,3020,4460,4900];if(window.self!==window.top||"4050"===c)return!1;if("undefined"!=typeof pe)var E=pe;var _,y="redirect",A="search-page",I="search-app",x="search-all-apps",O="goto-page",P="goto-app",b="pe",R="shortcutAction",w="icon-edit-app",L="icon-page",T="icon-search",F="icon-shared-components",D="icon-goto-group",H="icon-page-designer",N=".",k="a-Spotlight",G="a-Spotlight-input",B="a-Spotlight-results",M="is-active",W="sp-result-list",U=e.ui.keyCode,j={4e3:"builder",4500:"builder",4800:"teamdev",4350:"admin"}[c];r.length<=0&&(_=window.location.search.substring(1).replace("p=","").split(":"),r="4000"!==_[0]||C.includes(parseInt(_[1]))?"":apex.builder.gApplicationId);var $,z=i.formatMessage,K={app:i.getMessage("SL.APP"),page:i.getMessage("SL.PAGE"),placeHolder:i.getMessage("SL.PLACEHOLDER"),oneMatchFound:i.getMessage("SL.MATCH.FOUND"),noMatchFound:i.getMessage("SL.NO.MATCH.FOUND"),enterKeywords:i.getMessage("SL.SEARCH.HELP")},X=function(e){var t,a,i=e.title,n=e.desc,o=e.path||"",s=e.url,p=e.type,l=e.icon,c=e.shortcut,u=c?'<span class="a-Spotlight-shortcut" >'+c+"</span>":"",d="",h=e.peData;if((0===s||s&&s.length>0)&&(d='data-url="'+s+'" '),p&&(d=d+' data-type="'+p+'" '),h)for(t in h)h.hasOwnProperty(t)&&(d=d+" data-"+t+'="'+h[t]+'" ');return p===P&&e.initials.trim().length>0?(a='<span class="'+l+'" style="color: #fff; box-shadow: 0 0 0 1px #fff;webkit-box-shadow: 0 0 0 1px #fff;position: relative;z-index: 1;margin-right: 16px;padding: 8px;width: 32px;height: 32px;border-radius: 2px;" aria-hidden="true"><span class="a-Icon">'+e.initials+"</span></span>",n=n||"Open Application "+i):a=e.hasCustomIcon?l:'<span class="a-Spotlight-icon" aria-hidden="true"><span class="a-Icon '+l+'"></span></span>','<li class="a-Spotlight-result a-Spotlight-result--page" aria-label="'+n+'"><span class="a-Spotlight-link" '+d+">"+a+'<span class="a-Spotlight-info"><span class="a-Spotlight-label" role="option">'+(i+=e.alias&&e.alias.trim().length>0?' <span class="a-Spotlight-labelContext">'+e.alias.toLowerCase()+"</span>":"")+'</span><span class="a-Spotlight-desc">'+o.replace("{APP_ID}",r)+"</span></span>"+u+"</span></li>"},Y=function(t,i){var p,c=t.data("url");switch(t.data("type")){case b:o.goToComponent(t.data("typeid"),t.data("componentid"),t.data("propertyid"));break;case A:o.activateTab("search"),e("#P4500_LOCAL_SEARCH").val(l).trigger("change").focus();break;case I:a.popup({url:"f?p=4000:8000:"+s+"::::P8000_START_SEARCH,P8000_SEARCH:1,"+encodeURIComponent(l),name:"SEARCH_RESULTS",width:1e3,height:800});break;case x:a.popup({url:"f?p=4000:8000:"+s+"::::FB_FLOW_ID,FB_FLOW_PAGE_ID,P8000_START_SEARCH,P8000_SEARCH:"+r+",,1,"+encodeURIComponent(l),name:"SEARCH_RESULTS",width:1e3,height:800});break;case P:a.redirect("f?p=4000:1:"+s+"::NO::FB_FLOW_ID,F4000_P1_FLOW,P0_FLOWPAGE:"+c+","+c+","+c);break;case O:o&&!g?o.goToPage(c):g?a.redirect("f?p=4000:4150:"+s+"::NO::FB_FLOW_ID,FB_FLOW_PAGE_ID:"+f+","+c):a.redirect("f?p=4000:4150:"+s+"::NO::FB_FLOW_PAGE_ID:"+c);break;case y:a.redirect(function(e){return isNaN(e.split(":")[0])?e:"f?p="+e+":"+s}(c));break;case R:(p=n.lookup(c)).action||p.href?n.invoke(c,i,$):n.toggle(c)}te()},J=function(){e("#"+W).empty(),e(N+G).val("").focus(),l="",Q(),S&&(S=!1,g=!1,f="")},Q=function(){var t=e(N+B),a=e(N+G),i=t.find(N+M).find(N+"a-Spotlight-label").attr("id"),n=e("#"+i),o=n.text(),s=t.find("li"),r=0!==s.length,p="",c=s.filter((function(){return 0===e(this).find(N+"a-Spotlight-shortcut").length})).length;e(N+"a-Spotlight-label").attr("aria-selected","false"),n.attr("aria-selected","true"),""===l?p=K.enterKeywords:0===c?p=K.noMatchFound:1===c?p=K.oneMatchFound:c>1&&(p=z("SL.N.MATCHES.FOUND",c)),p=o+", "+p,e("#sp-aria-match-found").text(p),a.attr("aria-activedescendant",i).attr("aria-expanded",r)},V=function(){var t,a,i,n,o=function(){var o=e("div.a-Spotlight-results");t=o.outerHeight(),a=e("li.a-Spotlight-result").outerHeight(),i=o.offset().top,n=t/a},s=function(e){var i=e.find(N+M),s=i.index();n||o(),!i.length||i.is(":last-child")?(i.removeClass(M),e.find("li").first().addClass(M),e.animate({scrollTop:0})):function(e){if(e[0]){var a=e.offset().top;return a<0||a>t}}(i.removeClass(M).next().addClass(M))&&e.animate({scrollTop:(s-n+2)*a},0)},r=function(e){var s=e.find(N+M),r=s.index();n||o(),!e.length||s.is(":first-child")?(s.removeClass(M),e.find("li").last().addClass(M),e.animate({scrollTop:e.find("li").length*a})):function(e){if(e[0]){var a=e.offset().top;return a>t||a<=i}}(s.removeClass(M).prev().addClass(M))&&e.animate({scrollTop:(r-1)*a},0)};e(window).on("apexwindowresized",(function(){o()})),e("body").append('<div class="'+k+'"><div class="a-Spotlight-body"><div class="a-Spotlight-search"><div class="a-Spotlight-icon"><span class="a-Icon icon-search" aria-hidden="true"></span></div><div class="a-Spotlight-field"><input type="text" role="combobox" aria-expanded="false" aria-autocomplete="none" aria-haspopup="true" aria-label="Spotlight Search" aria-owns="'+W+'" autocomplete="off" autocorrect="off" spellcheck="false" class="'+G+'" placeholder="'+K.placeHolder+'"></div><div role="region" class="u-VisuallyHidden" aria-live="polite" id="sp-aria-match-found"></div></div><div class="'+B+'"><ul class="a-Spotlight-resultsList" id="'+W+'" tabindex="-1" role="listbox"></ul></div></div></div>').on("input",N+G,(function(){var t=e(this).val().trim(),a=t.length;0===a?J():(a>1||!isNaN(t))&&t!==l&&ne(t)})).on("keydown",N+k,(function(t){var a,i,n=e(N+B);switch(t.which){case U.DOWN:t.preventDefault(),s(n);break;case U.UP:t.preventDefault(),r(n);break;case U.ENTER:t.preventDefault(),Y(n.find("li.is-active span"),t);break;case U.TAB:te()}if(t.ctrlKey){switch(a=n.find(N+"a-Spotlight-shortcut").parent().get().reverse(),t.which){case 49:i=1;break;case 50:i=2;break;case 51:i=3;break;case 52:i=4}i&&Y(e(a[i-1]),t)}t.shiftKey&&t.which===U.TAB&&te(),Q()})).on("click","span.a-Spotlight-link",(function(t){Y(e(this),t)})).on("mousemove","li.a-Spotlight-result",(function(){var t=e(this);t.parent().find(N+M).removeClass(M),t.addClass(M)})).on("blur",N+k,(function(t){e(N+k).dialog("isOpen")&&e(N+G).focus()})),e(N+k).on("keydown",(function(t){var a=e(N+G);t.which===U.ESCAPE&&(a.val()?(J(),t.stopPropagation()):te())})),p=!0},q=function(e){f=e,apex.server.process("spotlightIndex",{x01:e,x02:"N"},{success:function(e){h=e},error:function(e,t,a){console.log(JSON.parse(e.responseText))}})},Z=function(e){var t,a,i,o,s,r="";for(u=e,t=n.list(),s=0;s<t.length;s++)"spotlight-search"!==(o=(i=t[s]).name)&&((a=n.lookup(o))&&(r=n.shortcutDisplay(a.shortcut||"")),u.push({name:i.label,description:r,path:r,shortcutAction:o,priority:0,type:R}))},ee=function(t){var i=function(){var t=e(N+k),i=window.scrollY||window.pageYOffset;t.hasClass("ui-dialog-content")&&t.dialog("isOpen")||t.dialog({width:650,resizable:!1,height:"auto",modal:!0,position:{my:"center top",at:"center top+"+(i+64),of:e("body")},dialogClass:"ui-dialog--apexspotlight",open:function(){e(this).css("min-height","auto").prev(".ui-dialog-titlebar").remove(),a.beginFreezeScroll(),e(".ui-widget-overlay").on("click",(function(){te()}))},close:function(){J(),a.endFreezeScroll()}})};p?(i(),r!=f&&q(r)):(V(),i(),u&&u.length>0||e.ajax({dataType:"json",type:"GET",url:v,success:function(e){Z(e)},error:function(t,a,i){404==t.status&&e.ajax({dataType:"json",type:"GET",url:m,success:function(e){Z(e)},error:function(e,t,a){console.log(JSON.parse(e.responseText))}})}}),d&&d.length>0||apex.server.process("spotlightIndex",{x01:null,x02:"Y"},{success:function(e){d=e},error:function(e,t,a){console.log(JSON.parse(e.responseText))}}),r&&r.length>0&&q(r)),$=t},te=function(){e(N+k).dialog("close")},ae=function(t){var a,i,n=[],o=!1,p=t.length,c=[],S=!!(r&&r.length>0||g||e(".a-Breadcrumb-item a[href^='f?p=4000:1:']").length>0),m=function(e,t,a,i){var n,o=100,s=t-1;return 0===e&&0===s||(-1===(n=a.indexOf(l))?o=o-e-s-t:o-=n),o-i};for(i=0;i<t.length;i++)a=t[i],n=(c=[],c=S?c.concat(h).concat(d).concat(u):c.concat(d).concat(u),o?n:c).filter((function(e,t){var i=e.name.toLowerCase(),n=i.split(" ").map((function(e){return e[0]})).join(""),o=i.split(" ").length,s=i.search(a),r=0;if(p>o)return!1;if(S&&e.scope&&"app"!==e.scope&&(r=80),s>-1)return e.score=m(s,o,i,r),!0;if(e.tokens){if(e.tokens.search(a)>-1)return e.score=80,!0}else{if(n.search(a)>-1)return e.score=80,!0;if(e.appId){if(e.appId.search(a)>-1)return e.score=m(s,o,e.appId,r),!0}else if(e.pageId){if(e.pageId.search(a)>-1)return e.score=m(s,o,e.pageId,r),!0}else if(e.alias&&e.alias.toLowerCase().search(a)>-1)return e.score=80,!0}})).sort((function(e,t){return t.score-e.score})),o=!0;return function(e){var t,a,i,n,o,p,l,c="",u={},d="",h=!1,m="",v={},C="";for(e.sort((function(e,t){return parseInt(t.priority)-parseInt(e.priority)})),e.length>100&&(e.length=100),t=0;t<e.length;t++)if(a=e[t],S||!a.scope||"app"!==a.scope){if(l=a.shortcut,h=!1,m="",a.appId)n=P,d=a.appId,i="App "+a.appId,p="App "+a.appId,a.appBuilderIconName&&a.appBuilderIconName.trim().length>0?(o='<span class="a-Spotlight-icon">'+a.appBuilderIconName+"</span>",h=!0):a.imageClass&&a.imageClass.trim().length>0?(o='<span class="a-Spotlight-icon '+a.imageClass+'" aria-hidden="true"></span>',h=!0):a.appColor&&a.appColor.trim().length>0&&a.appInitials.trim().length>0?(o=a.appColor,m=a.appInitials):o=w;else if(0===a.pageId||a.pageId){if(n=O,d=a.pageId,!((C=a.parentAppId?a.parentAppId:r)&&C.length>0))continue;i=" Go to "+d+" from application ID "+C,p=K.app+" "+C+" &#92; "+K.page+" "+d,o=L}else{if(n=a.type||y,d=a.url||a.shortcutAction,i=a.description,p="",a.path)if("string"==typeof a.path)p=a.path;else{var E=0;for(var _ in a.path)a.path.hasOwnProperty(_)&&(p+=a.path[_]+" \\ ",E++);E>=1&&(E-=1),a.scope&&"action"!==a.scope&&a.name!==a.path.last?a.label='<span class="a-Spotlight-labelContext">'+a.path.last+"</span> "+a.name:a.scope&&"action"===a.scope&&(a.label='<span class="a-Spotlight-labelContext">'+a.path.last+"</span> "+a.description,p="");var A=p.split("\\");p=(A=A.slice(0,E)).join("\\")}o=a.icon||D}if(d&&d.length>0){if(d.indexOf("&DEBUG.")>0){var I="::::";g&&(I="::FB_FLOW_ID:"+f),d=d.substring(0,d.indexOf("&DEBUG.")+"&DEBUG.".length).concat(I)}d=d.replace("%SESSION%",s).replace("&DEBUG.","NO").replace("&APP_SESSION.",s)}v={title:a.label?a.label:a.name,desc:i,url:d,icon:o,hasCustomIcon:h,type:n,path:p,score:a.score,alias:a.alias,initials:m,priority:a.priority},l&&(v.shortcut=l);var x=0;a.score?(x=ie(u,a.score-t),u[x]=X(v)):(x=ie(u,-1e3*t),u[x]=X(v))}return Object.keys(u).sort((function(e,t){return t-e})).forEach((function(e){c+=u[e]})),c}(function(t){var a,i=encodeURIComponent(l),n=l,o=/^(\d+)(?::|-)\s*(\d+)$/,p=/^(\d+)(?::|-)\s*(s|sc|sh)$/;switch(o.test(l)?(a=l.match(o),t.unshift({name:z("SL.EDIT.PAGE.IN.APP",a[2],a[1]),url:"f?p=4000:4500:"+s+"::NO::FB_FLOW_ID,FB_FLOW_PAGE_ID:"+a[1]+","+a[2],icon:L,description:z("APEX.SEARCH.GO_TO_PAGE")+" "+a[2],path:z("APEX.SEARCH.GO_TO_PAGE")+" "+a[2],score:1e3,priority:10,type:y})):p.test(l.toLowerCase())&&(a=l.toLowerCase().match(p),t.unshift({name:z("SL.SHARED.COMP.APP",a[1]),url:"f?p=4000:9:"+s+"::NO::FB_FLOW_ID:"+a[1],icon:F,description:z("APEX.SEARCH.GO_TO_SHARED_COMPONENTS"),path:z("APEX.SEARCH.GO_TO_SHARED_COMPONENTS"),score:1e3,priority:100,type:y})),j){case"builder":(r||E||e(".a-Breadcrumb-item a[href^='f?p=4000:1:']").length>0)&&(E&&t.push({name:z("SL.SEARCH.PAGE",n),type:A,icon:T,priority:0,shortcut:"Ctrl + 4"}),t.push({name:z("SL.SEARCH.APP",n),type:I,icon:T,priority:0,shortcut:"Ctrl + 3"}));break;case"teamdev":t.push({name:z("SL.SEARCH.TEAM.DEV",n),url:"f?p=4800:8000:"+s+":::RIR:IR_ROWFILTER:"+i,icon:T,priority:0,type:y});break;case"admin":t.push({name:z("SL.SEARCH.USER",n),url:"f?p=4350:8000:"+s+":::RIR:IR_ROWFILTER:"+i,icon:"icon-user",priority:0,type:y})}return t.push({name:z("SL.SEARCH.ALLAPPS",n),type:x,icon:T,priority:0,shortcut:"Ctrl + 2"}),t.push({name:z("SL.SEARCH.WP",n),url:"f?p=4500:8000:"+s+":::RIR:IR_ROWFILTER:"+i,icon:T,type:y,priority:0,shortcut:"Ctrl + 1"}),t}(n))},ie=function(e,t){return e.hasOwnProperty(t)&&(t=ie(e,t-1)),t},ne=function(a){var i,n,o,s,p=(l=a.trim()).split(" "),c=(e(N+B),[]),u="",d=new RegExp("^[0-9]+\\s*:\\s*$","gi"),h=new RegExp("^[0-9]+\\s*:(\\s*\\S|\\s*\\d+)","gi"),m=!0;for(d.test(l)?(m=!1,S=!0,(s=l.split(":"))[0].trim().length>0&&(o=s[0],f!==o&&q(o))):h.test(l)?(m=!0,S=!0,g=!0,(s=l.split(":"))[1].trim().length>0&&(o=s[0],p=s[1].trim().split(" "))):(m=!0,S&&r!==f&&q(r)),n=0;n<p.length;n++)c.push(new RegExp(t.escapeRegExp(p[n]),"gi"));m||(c=[],l=f),i=ae(c),E&&E.getCurrentPageId()&&!g&&(u=function(a,i){var n,o,s,r,p,l,c="",u=function(e){return E.getComponentType(e)},d=function(t,a){var i,n,o,s=u(a);if(i=E.displayTitleSearch(t,a),s)for(o=s.childComponentTypes.length,n=0;n<o;n++)i=e.merge(d(t,s.childComponentTypes[n]),i);return i};for((n=d(a,i)).length>50&&(n.length=50),p=0,l=n.length;p<l;p++)s=(o=n[p]).typeId,r=u(s),c+=X({title:t.escapeHTML(r.title.singular)+" &rarr; "+t.escapeHTML(o.getDisplayTitle()),icon:H,type:b,peData:{typeid:s,componentid:o.id,propertyid:r.displayPropertyId}});return c}(c[0],E.COMP_TYPE.PAGE)),e("#"+W).html(u+i).find("li").each((function(t){e(this).find(N+"a-Spotlight-label").attr("id","sp-result-"+t)})).first().addClass(M)};n.add({name:"spotlight-search",label:null,title:null,shortcut:"Ctrl+Quote",action:function(e,t){return ee(t),!0}})}(apex.jQuery,apex.util,apex.navigation,apex.lang,apex.actions,window.pageDesigner)}));